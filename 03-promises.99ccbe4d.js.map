{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC7BC,EAAQH,EAAKI,MAAMC,MACpBC,EAAON,EAAKO,KAAKF,MACjBG,EAASR,EAAKS,OAAOJ,MAC3BL,EAAKU,iBAAiB,SAMtB,SAAuBC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,IAAIC,EAAa,GACjBC,YAAW,KACH,IAAK,IAAIC,EAAW,EAAGA,GAAYV,EAAQU,GAAW,EACpDC,aAAY,KACjB,MAAMC,EAAa,IAAIC,SAAQ,CAACC,EAASC,KAC5BV,EACJS,EAAQ,uBAAqBJ,QAAiBN,OAE3CW,EAAK,sBAAoBL,QAAiBN,OACxCI,EAASQ,KAAKJ,EAAU,GAC/B,GACCd,GACH,OAAOU,CAAU,GAClBJ,E,CArBsBa,CAAc,EAAGtB,IAwBlDkB,QAAQK,aACLC,MAAK,EAACT,SAAEA,EAAUd,MAAAwB,MACjBC,EAAA/B,GAASgC,OAAOC,QAAQ,uBAAqBb,QAAiBU,MAAU,IAEzEI,OAAM,EAACd,SAAEA,EAAUd,MAAA6B,MAClBJ,EAAA/B,GAASgC,OAAOI,QAAQ,sBAAoBhB,QAAee,MAAU","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form')\nconst  delay = form.delay.value \nconst step = form.step.value;\nconst amount = form.amount.value;\nform.addEventListener('submit',  createPromise(1, delay))\n// function onSubmit (evt){\n//   evt.preventDefault()\n//   createPromise(0, delay)\n// }\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  let myPromises = [];\n  setTimeout(() => {\n          for (let position = 1; position <= amount; position +=1) {\n            setInterval(() => {\n       const myPromise =  new Promise((resolve, reject) => {\n                if (shouldResolve) {\n                resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n                } else {\n                 reject(`❌ Rejected promise ${position} in ${delay}ms`);\n                }  myPromises.push(myPromise)\n            }) \n            }, step)\n          } return myPromises;\n         },delay)\n}\n\nPromise.allSettled()\n  .then(({ position, delay }) => {\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n   \n  "],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$delay","delay","value","$47d4ff9957288465$var$step","step","$47d4ff9957288465$var$amount","amount","addEventListener","position1","delay1","shouldResolve","Math","random","myPromises","setTimeout","position","setInterval","myPromise","Promise","resolve","reject","push","$47d4ff9957288465$var$createPromise","allSettled","then","delay2","$parcel$interopDefault","Notify","success","catch","delay3","failure"],"version":3,"file":"03-promises.99ccbe4d.js.map"}